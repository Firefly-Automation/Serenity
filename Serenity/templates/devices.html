
{% raw %}
  <ui-view layout="column" fill >
   <md-toolbar>
   <!--  md-stretch-tabs="always" -->
  <md-tabs class="md-primary" md-selected="data.selectedIndex" style="min-height: 75px; overflow-x:hidden; position: fixed; top:60; display: inline-block" >
  
  <md-tab id={{$index}}-tab aria-controls={{$index}}-tab ng-repeat="type in deviceTypes" ng-click='data.selectedIndex = type.index' >
  {{type.title}}
  </md-tab>
  
  </md-tabs>

  </md-toolbar>

  <div flex md-scroll-y>
  <ng-switch on="data.selectedIndex" class="tabpanel-container" class="md-padding" layout-padding>



  {% endraw %}
    {% for dType in deviceTypes %}
    <div role="tabpanel"
      id="{{dType.type}}-content"
      ng-switch-when={{dType.index}}
      md-swipe-left="next()"
      md-swipe-right="previous()"
      layout="row"
      flex
      layout-wrap
      
      class='md-padding'>
      
      
      <div class='md-padding row-height' layout-wrap ng-repeat="item in devices {% if dType.type!='all' %}| filter:{'type' : '{{dType.type}}'}  {% endif %}| filter:search  | orderBy: 'name'" bind-html-compile="item.card" flex-sm=100 flex-md=50 flex=33>
      </div>
      
    </div>
    {% endfor %}
  {% raw %}
  </div>
  
  <!-- This part needs to be dont in Python -->
  <!--
  <div role="tabpanel"
    id="all-content"
    ng-switch-when=0
    md-swipe-left="next()"
    md-swipe-right="previous()"
    layout="row"
    flex
    layout-wrap
    
    class='md-padding'>
    
    
    <div class='md-padding row-height' layout-wrap ng-repeat="item in devices |  filter:search  | orderBy: 'name'" bind-html-compile="item.card" flex-sm=100 flex-md=50 flex=33>
    </div>
    
  </div>
  
  <div role="tabpanel"
    id="light-content"
    ng-switch-when=1
    md-swipe-left="next()"
    md-swipe-right="previous()"
    layout="row"
    flex
    layout-wrap
    
    class='md-padding'
    ng-controller="DeviceCtrl">
    
    
    <div class='md-padding row-height' layout-wrap ng-repeat="item in devices | filter:{'type' : 'light'} | filter:search  | orderBy: 'name'" bind-html-compile="item.card" flex-sm=100 flex-md=50 flex=33>
    </div>
    
    
    
  </div>
  <div role="tabpanel"
    id="switch-content"
    ng-switch-when=2
    md-swipe-left="next()"
    md-swipe-right="previous()"
    layout="row"
    flex
    layout-wrap
    
    class='md-padding'
    ng-controller="DeviceCtrl">
    
    
    <div class='md-padding row-height' layout-wrap ng-repeat="item in devices | filter:{'type' : 'switch'} | filter:search  | orderBy: 'name'" bind-html-compile="item.card" flex-sm=100 flex-md=50 flex=33>
    </div>
    
    
    
  </div>
  <div role="tabpanel"
    id="thermostat-content"
    ng-switch-when=3
    md-swipe-left="next()"
    md-swipe-right="previous()"
    layout="row"
    flex
    layout-wrap
    
    class='md-padding'
    ng-controller="DeviceCtrl">
    
    
    <div class='md-padding row-height' layout-wrap ng-repeat="item in devices | filter:{'type' : 'thermostat'} | filter:search  | orderBy: 'name'" bind-html-compile="item.card" flex-sm=100 flex-md=50 flex=33>
    </div>
    
    
    
  </div>
  <div role="tabpanel"
    id="dimmer-content"
    ng-switch-when=4
    md-swipe-left="next()"
    md-swipe-right="previous()"
    layout="row"
    flex
    layout-wrap
    
    class='md-padding'
    ng-controller="DeviceCtrl">
    
    
    <div class='md-padding row-height' layout-wrap ng-repeat="item in devices | filter:{'type' : 'dimmer'} | filter:search  | orderBy: 'name'" bind-html-compile="item.card" flex-sm=100 flex-md=50 flex=33>
    </div>
    
    
    
  </div>
  -->  
  <!-- This part needs to be dont in Python -->

  
  </ng-switch>
  
  </ui-view>
  {% endraw %}
